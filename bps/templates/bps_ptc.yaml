pipelineYaml: "${CP_PIPE_DIR}/pipelines/${INSTRUMENT}/cpPtc.yaml#cpPtcAdjustGainRatios"

project: "${TICKET}"
campaign: "${TICKET}"
submitPath: "${SCRATCH}/submit/{outputRun}"

# Necessary to cluster by exposure if there are many input exposures
clusterAlgorithm: lsst.ctrl.bps.quantum_clustering_funcs.dimension_clustering
cluster:
  cpPtcIsrByExposure:
    pipetasks: cpPtcIsr
    dimensions: exposure
  cpPtcExtractPairByExposure:
    pipetasks: cpPtcExtractPair
    dimensions: exposure

payload:
  payloadName: "${INSTRUMENT}_${TICKET}_ptc"
  output: "${USER_CALIB_PREFIX}${INSTRUMENT}/calib/${TICKET}/${TAG}/ptcGen.${RERUN}"
  butlerConfig: "${REPO}"
  inCollection: "u/abrought/LSSTCam/calib/DM-52242/test/ptcGen.20250915b/20250916T054414Z,LSSTCam/calib/DM-51897/3s_v1/ptcGen.20250808a/20250810T155447Z,${RAW_COLLECTION},${CALIB_COLLECTIONS}"
  dataQuery: "${SELECTION_PTC}"
